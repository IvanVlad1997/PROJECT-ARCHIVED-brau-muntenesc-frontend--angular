<div class="full-height" >
  <div  *ngIf="loading" class="spinner"  fxLayout="row" fxLayoutAlign="center center" >
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="!loading">
    <div class="title margin-top-1" >Coș de cumpărături</div>
    <div *ngIf="cart.length === 0">Nu sunt produse în coșul de cumpărături</div>
    <div fxLayout="row wrap" fxLayoutAlign="start start" >

      <div fxFlex="100" fxLayout="column" fxLayoutAlign="center center" class="margin-top-1" class="border">
        <p>Rezumat comandă</p>
        <hr />
        <p>Produse</p>
        <div *ngFor="let cartProduct of cart">
          {{cartProduct.product.title}} x {{cartProduct.count}} = {{cartProduct.product.price * cartProduct.count}}
        </div>
        <hr />
        Total: <b>{{totalPrice}}</b>
        <hr />
        <button mat-raised-button color="primary" class="button" (click)="saveOrderToDb()">Comandă</button>
        <button mat-raised-button color="warn" class="button" (click)="emptyUserCart()">Golește coșul de cumpărături</button>
      </div>

      <div fxFlex="100" class="tabel" >
        <ag-grid-angular *ngIf="cart.length > 0"
                         [pagination]="true"
                         domLayout="autoHeight"
                         class="ag-theme-alpine mat-elevation-z4"
                         [rowData]="rowData "
                         [columnDefs]="columnDefs"
                         [defaultColDef]="defaultColDef"
                         [context]="this"
                         [skipHeaderOnAutoSize]="true"
                         [paginationPageSize]="20"
        >
        </ag-grid-angular>
      </div>
    </div>
  </div>

</div>


